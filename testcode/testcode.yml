alchemy:
    cfg_version: '1.0'

include: [alchemy]

units:
    file-exists:
        desc: Whether file exists or not
        type: simple-wrap
        func: os.path.exists
        input:
            path: Filepath
        output:
            exists_flag: Bool. True if file exists
    greet:
        type: simple-wrap
        desc: Greet user
        func: testcode.b.greet
        input:
            name: Name of the user
        output:
            greeting: The greeting string
    add-num: 
        desc: Add 2 numbers
        func: testcode.b.add
        input:
            a: Integer
            b: Integer
        output:
            result: Addition value
    mul-num: 
        desc: Multiply 2 numbers
        func: testcode.b.mul
        input:
            a: Integer
            b: Integer
        output:
            result: Multiplication value

derivatives:
    Square:
        input:
            num: Integer
        output:
            result: Value of the computation
        units:
            Context:
                a: $num
                b: $num
            Mul Numbers:




flows:
    testflow:
        input:
        output:
        units:
            - context:
                varmap:
                    a: 1
            - add-num:
                b: 10

    foreach-test:
        input:
        output:
        units:
            - loop:
                count: 3
                units:
                    - foreach:
                        iteron: [1,2]
                        item: num
                        units:
                            - add-num:
                                a: $num
                                b: 10
    file-exists:
        input:
            b: 1
        output:
            a: 1
        units: 
            - cli-positional:
                spec: [path]
            - file-exists:
                path: $input_path
            - $testflow:
            - print-context:
                param_list: null
    